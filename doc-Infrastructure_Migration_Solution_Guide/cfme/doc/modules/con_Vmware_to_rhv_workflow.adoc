// Module included in the following assemblies:
// assembly_IMS_overview.adoc
[id="Vmware_to_rhv_workflow"]
= Red Hat Virtualization migration workflow

This diagram describes the workflow of a migration to Red Hat Virtualization.

.VMware to Red Hat Virtualization migration workflow
image:vmware_to_rhv_migration_workflow.png[]

image:1.png[height=25] You run a migration plan in CloudForms.

image:2.png[height=25] CloudForms uses the migration plan to locate the source virtual machines.

image:3.png[height=25] If you are using the VMware Virtual Disk Development Kit (VDDK) xref:datapath_transformation_options_vddk_ssh[transformation option], CloudForms captures the ESXi host fingerprint for authentication during the virtual machine conversion process.

image:4.png[height=25] Using the attributes defined for the RHV environment, CloudForms initiates communication with the conversion hosts. (A conversion host is a RHV host running virt-v2v and virt-v2v-wrapper.)

image:5.png[height=25] `virt-v2v-wrapper` connects to the source datastore through the ESXi host. `virt-v2v streams` the source disks to the target data domain and converts the source disks.

image:6.png[height=25] `virt-v2v-wrapper` creates a target RHV virtual machine, using the source virtual machine’s metadata in order to maintain its attributes (tags, power state, MAC address, CPU count, memory, disks, and virtual machine name) after migration.

image:7.png[height=25] `virt-v2v` attaches the converted disks to the RHV virtual machine. (The RHV virtual machine’s power state is identical to the source virtual machine’s premigration state.)

The migration process is complete and the migration plan's status is displayed in CloudForms.
