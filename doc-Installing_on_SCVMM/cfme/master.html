<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Installing Red Hat CloudForms on Microsoft SCVMM</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Installing Red Hat CloudForms on Microsoft SCVMM</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#installing-cloudforms">1. Installing Red Hat CloudForms</a>
<ul class="sectlevel2">
<li><a href="#obtaining-the-appliance">1.1. Obtaining the Appliance</a></li>
<li><a href="#deploying-the-appliance-SCVMM">1.2. Deploying the Appliance</a></li>
</ul>
</li>
<li><a href="#Configuring-cloudforms">2. Configuring Red Hat CloudForms</a>
<ul class="sectlevel2">
<li><a href="#accessing-appliance-console">2.1. Accessing the Appliance Console</a></li>
<li><a href="#configuring_a_database">2.2. Configuring a Database</a>
<ul class="sectlevel3">
<li><a href="#configuring-an-internal-database">2.2.1. Configuring an Internal Database</a></li>
<li><a href="#configuring-an-external-database">2.2.2. Configuring an External Database</a></li>
</ul>
</li>
<li><a href="#configuring-a-worker-appliance">2.3. Configuring a Worker Appliance</a></li>
</ul>
</li>
<li><a href="#Initial_Login">3. Logging In After Installing Red Hat CloudForms</a>
<ul class="sectlevel2">
<li><a href="#_changing_the_default_login_password">3.1. Changing the Default Login Password</a></li>
</ul>
</li>
<li><a href="#appendix">Appendix A: Appendix</a>
<ul class="sectlevel2">
<li><a href="#appliance-console-cli">A.1. Appliance Console Command-Line Interface (CLI)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="installing-cloudforms">1. Installing Red Hat CloudForms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing Red Hat CloudForms consists of the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Downloading the VHD image to your SCVMM Library.</p>
</li>
<li>
<p>Creating a blank VHD to be used for the DB disk.</p>
</li>
<li>
<p>Running a PowerShell script to create a deployable template for the CloudForms appliance.</p>
</li>
<li>
<p>Configuring the CloudForms appliance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After you have completed all the procedures in this guide, you will have a working environment on which you can perform additional customizations and configurations.</p>
</div>
<div class="sect2">
<h3 id="obtaining-the-appliance">1.1. Obtaining the Appliance</h3>
<div class="paragraph">
<p>Download the VHD appliance image from the Red Hat Customer Portal to your SCVMM library:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to your SCVMM environment and open a web browser.</p>
</li>
<li>
<p>Navigate to the Red Hat Customer Portal <strong>Downloads</strong> page at <a href="https://access.redhat.com/downloads">access.redhat.com</a>.</p>
</li>
<li>
<p>Click <strong>A-Z</strong> to sort the product downloads alphabetically.</p>
</li>
<li>
<p>Click <strong>Red Hat CloudForms</strong> to access the product download page.</p>
</li>
<li>
<p>Log in using your customer account details when prompted.</p>
</li>
<li>
<p>From the list of installers and images, click the <strong>Download Now</strong> link for <strong>CFME SCVMM Virtual Appliance</strong> and download to your SCVMM Library.</p>
</li>
<li>
<p>When the image finishes downloading, open a PowerShell terminal and run <code>'Refresh-LibraryShare'</code>:</p>
<div class="listingblock">
<div class="content">
<pre>PS C:\Users\Administrator.MS01&gt; 'Refresh-LibraryShare'</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deploying-the-appliance-SCVMM">1.2. Deploying the Appliance</h3>
<div class="paragraph">
<p>Create a blank VHD to be used for the database disk and add it to your SCVMM Library, create a template for the CloudForms appliance, then deploy a virtual machine to run the appliance.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a blank VHD to be used for the DB disk and add it to your SCVMM Library. Run this command on a node containing Hyper-V.</p>
<div class="paragraph">
<p>For example, on a node with Hyper-V installed you can create a 20GB blank VHD with the following PowerShell command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PS C:\Users\Administrator.MS01&gt; New-VHD -Path 'C:\path\to\my\newvdisk.vhdx' -SizeBytes 20gb -Dynamic</pre>
</div>
</div>
</li>
<li>
<p>Copy the blank VHD disk to the SCVMM Library.</p>
</li>
<li>
<p>In a PowerShell terminal, run <code>'Refresh-LibraryShare'</code> to refresh the library:</p>
<div class="listingblock">
<div class="content">
<pre>PS C:\Users\Administrator.MS01&gt; 'Refresh-LibraryShare'</pre>
</div>
</div>
</li>
<li>
<p>Run the following PowerShell script to create a deployable template for the CloudForms appliance, substituting values for your environment:</p>
<div class="listingblock">
<div class="content">
<pre>$networkName = "yourNetwork"
$templateName = "myNewCFMETemplate"
$templateOwner = "ownerUsername"
$memorySizeMb = 12288
$cpuCount = 4
$srcPath = "C:\path\to\vhd\in\Library"
$dbDiskSrcPath = "C:\path\to\db\vhd\in\Library"
$templateOsType = "Red Hat Enterprise Linux 7 (64 bit)"
$scvmmFqdn = "fqdn.of.scvmm.com"

$JobGroupId01 = [Guid]::NewGuid().ToString()
$LogicalNet = Get-SCLogicalNetwork -Name $networkName
New-SCVirtualNetworkAdapter -JobGroup $JobGroupID01 -MACAddressType Dynamic
    -LogicalNetwork $LogicalNet -Synthetic
New-SCVirtualSCSIAdapter -JobGroup $JobGroupID01 -AdapterID 6 -Shared $False
New-SCHardwareProfile -Name $templateName -Owner $templateOwner
    -Description 'Temp profile used to create a VM Template' -MemoryMB
$memorySize
    -CPUCount $cpuCount -JobGroup $JobGroupID01
$JobGroupId02 = [Guid]::NewGuid().ToString()
$VHD = Get-SCVirtualHardDisk | where {{ $_.Location -eq $srcPath }} | where {{
$_.HostName -eq $scvmmFqdn }}
New-SCVirtualDiskDrive -IDE -Bus 0 -LUN 0 -JobGroup $JobGroupID02
-VirtualHardDisk $VHD
$DBVHD = Get-SCVirtualHardDisk | where {{ $_.Location -eq $dbDiskSrcPath }}
New-SCVirtualDiskDrive -IDE -Bus 1 -LUN 0 -JobGroup $JobGroupID02
-VirtualHardDisk $DBVHD
$HWProfile = Get-SCHardwareProfile | where {{ $_.Name -eq $templateName }}
$OS = Get-SCOperatingSystem | where {{ $_.Name -eq $templateOsType }}
New-SCVMTemplate -Name $templateName -Owner $templateOwner -HardwareProfile
$HWProfile `
    -JobGroup $JobGroupID02 -RunAsynchronously -Generation 1 -NoCustomization
Remove-HardwareProfile -HardwareProfile $templateName</pre>
</div>
</div>
</li>
<li>
<p>Deploy a virtual machine to a host group from the created template by running a script using PowerShell.</p>
<div class="paragraph">
<p>Run the following script using PowerShell, substituting values for your environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$tpl = Get-SCVMTemplate -Name $templateName -VMMServer $scvmmServer
$vm_hg = Get-SCVMHostGroup -Name $hostGroup -VMMServer $scvmmServer
$vmc = New-SCVMConfiguration -VMTemplate $tpl -Name $vmName -VMHostGroup $vm_hg
Update-SCVMConfiguration -VMConfiguration $vmc
New-SCVirtualMachine -Name $vmName -VMConfiguration $vmc</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Substitute these values in your PowerShell script:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>$hostGroup = "NAME_OF_HOST_GROUP_TO_DEPLOY_TO"</p>
</li>
<li>
<p>$scvmmServer = "NAME_OF_YOUR_SCVMM_SERVER"</p>
</li>
<li>
<p>$templateName = "NAME_OF_CFME_TEMPLATE"</p>
</li>
<li>
<p>$vmName = "NAME_OF_YOUR_NEW_VM"</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Your SCVMM environment now contains a running CloudForms appliance which you can configure.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuring-cloudforms">2. Configuring Red Hat CloudForms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After installing CloudForms and running it for the first time, you must perform some basic configuration. To configure CloudForms, you must at a minimum:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a disk to the infrastructure hosting your appliance.</p>
</li>
<li>
<p>Configure the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Configure the CloudForms appliance using the internal appliance console.</p>
</div>
<div class="sect2">
<h3 id="accessing-appliance-console">2.1. Accessing the Appliance Console</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The Red Hat CloudForms appliance summary screen displays.</p>
</li>
<li>
<p>Press <code>Enter</code> to manually configure settings.</p>
</li>
<li>
<p>Press the number for the item you want to change, and press <code>Enter</code>. The options for your selection are displayed.</p>
</li>
<li>
<p>Follow the prompts to make the changes.</p>
</li>
<li>
<p>Press <code>Enter</code> to accept a setting where applicable.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The CloudForms appliance console automatically logs out after five minutes of inactivity.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring_a_database">2.2. Configuring a Database</h3>
<div class="paragraph">
<p>CloudForms uses a database to store information about the environment. Before using CloudForms, configure the database options for it; CloudForms provides the following two options for database configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install an internal PostgreSQL database to the appliance</p>
</li>
<li>
<p>Configure the appliance to use an external PostgreSQL database</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="configuring-an-internal-database">2.2.1. Configuring an Internal Database</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Before installing an internal database, add a disk to the infrastructure hosting your appliance. See the documentation specific to your infrastructure for instructions for adding a disk. As a storage disk usually cannot be added while a virtual machine is running, Red Hat recommends adding the disk before starting the appliance. Red Hat CloudForms only supports installing of an internal VMDB on blank disks; installation will fail if the disks are not blank.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The Red Hat CloudForms appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch an encryption key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first Red Hat CloudForms appliance, choose <strong>1) Create key</strong>.</p>
</li>
<li>
<p>If this is not the first Red Hat CloudForms appliance, choose <strong>2) Fetch key from remote machine</strong> to fetch the key from the first appliance. For worker and multi-region setups, use this option to copy key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>All CloudForms appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>1) Create Internal Database</strong> for the database location.</p>
</li>
<li>
<p>Choose a disk for the database. This can be either a disk you attached previously, or a partition on the current disk.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Red Hat recommends using a separate disk for the database.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If there is an unpartitioned disk attached to the virtual machine, the dialog will show options similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1) /dev/vdb: 20480
2) Don't partition the disk</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter <strong>1</strong> to choose <code>/dev/vdb</code> for the database location. This option creates a logical volume using this device and mounts the volume to the appliance in a location appropriate for storing the database. The default location is <code>/var/opt/rh/rh-postgresql95/lib/pgsql</code>, which can be found in the environment variable <code>$APPLIANCE_PG_MOUNT_POINT</code>.</p>
</li>
<li>
<p>Enter <strong>2</strong> to continue without partitioning the disk. A second prompt will confirm this choice. Selecting this option results in using the root filesystem for the data directory (not advised in most cases).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enter <strong>Y</strong> or <strong>N</strong> for <strong>Should this appliance run as a standalone database server?</strong></p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Y</strong> to configure the appliance as a database-only appliance. As a result, the appliance is configured as a basic PostgreSQL server, without a user interface.</p>
</li>
<li>
<p>Select <strong>N</strong> to configure the appliance with the full administrative user interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p>When prompted, enter a unique number to create a new region.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Creating a new region destroys any existing data on the chosen database.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create and confirm a password for the database.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Red Hat CloudForms then configures the internal database. This takes a few minutes. After the database is created and initialized, you can log in to CloudForms.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-an-external-database">2.2.2. Configuring an External Database</h4>
<div class="paragraph">
<p>Based on your setup, you will choose to configure the appliance to use an external PostgreSQL database. For example, we can only have one database in a single region. However, a region can be segmented into multiple zones, such as database zone, user interface zone, and reporting zone, where each zone provides a specific function. The appliances in these zones must be configured to use an external database.</p>
</div>
<div class="paragraph">
<p>The <code>postgresql.conf</code> file used with Red Hat CloudForms databases requires specific settings for correct operation. For example, it must correctly reclaim table space, control session timeouts, and format the PostgreSQL server log for improved system support. Due to these requirements, Red Hat recommends that external Red Hat CloudForms databases use a <code>postgresql.conf</code> file based on the standard file used by the Red Hat CloudForms appliance.</p>
</div>
<div class="paragraph">
<p>Ensure you configure the settings in the <code>postgresql.conf</code> to suit your system. For example, customize the <code>shared_buffers</code> setting according to the amount of real storage available in the external system hosting the PostgreSQL instance. In addition, depending on the aggregate number of appliances expected to connect to the PostgreSQL instance, it may be
necessary to alter the <code>max_connections</code> setting.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Red Hat CloudForms 4.x requires PostgreSQL version 9.4.</p>
</li>
<li>
<p>Because the <code>postgresql.conf</code> file controls the operation of all databases managed by a single instance of PostgreSQL, do not mix Red Hat CloudForms databases with other types of databases in a single PostgreSQL instance.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The Red Hat CloudForms appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key.</p>
<div class="ulist">
<ul>
<li>
<p>If this is the first Red Hat CloudForms appliance, choose <strong>1) Create key</strong>.</p>
</li>
<li>
<p>If this is not the first Red Hat CloudForms appliance, choose <strong>2) Fetch key from remote machine</strong> to fetch the key from the first appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>All CloudForms appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>2) Create Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Red Hat CloudForms will then configure the external database.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-a-worker-appliance">2.3. Configuring a Worker Appliance</h3>
<div class="paragraph">
<p>You can use multiple appliances to facilitate horizontal scaling, as well as for dividing up work by roles. Accordingly, configure an appliance to handle work for one or many roles, with workers within the appliance carrying out the duties for which they are configured. You can configure a worker appliance through the terminal. The following steps demonstrate how to join a worker appliance to an appliance that already has a region configured with a database.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the appliance and open a terminal console.</p>
</li>
<li>
<p>After starting the appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the <code>root</code> user.</p>
</li>
<li>
<p>Enter the <code>appliance_console</code> command. The Red Hat CloudForms appliance summary screen displays.</p>
</li>
<li>
<p>Press <strong>Enter</strong> to manually configure settings.</p>
</li>
<li>
<p>Select <strong>5) Configure Database</strong> from the menu.</p>
</li>
<li>
<p>You are prompted to create or fetch a security key. Since this is not the first Red Hat CloudForms appliance, choose <strong>2) Fetch key from remote machine</strong>. For worker and multi-region setups, use this option to copy the security key from another appliance.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>All CloudForms appliances in a multi-region deployment must use the same key.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Choose <strong>3) Join Region in External Database</strong> for the database location.</p>
</li>
<li>
<p>Enter the database hostname or IP address when prompted.</p>
</li>
<li>
<p>Enter the port number or leave blank for the default (<code>5432</code>).</p>
</li>
<li>
<p>Enter the database name or leave blank for the default (<code>vmdb_production</code>).</p>
</li>
<li>
<p>Enter the database username or leave blank for the default (<code>root</code>).</p>
</li>
<li>
<p>Enter the chosen database user&#8217;s password.</p>
</li>
<li>
<p>Confirm the configuration if prompted.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Initial_Login">3. Logging In After Installing Red Hat CloudForms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once Red Hat CloudForms is installed, you can log in and perform administration tasks.</p>
</div>
<div class="paragraph">
<p>Log in to Red Hat CloudForms for the first time after installing by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Enter the default credentials (Username: <strong>admin</strong> | Password: <strong>smartvm</strong>) for the initial login.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_changing_the_default_login_password">3.1. Changing the Default Login Password</h3>
<div class="paragraph">
<p>Change your password to ensure more private and secure access to Red Hat CloudForms.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the URL for the login screen. (<a href="https://xx.xx.xx.xx" class="bare">https://xx.xx.xx.xx</a> on the virtual machine instance)</p>
</li>
<li>
<p>Click <strong>Update Password</strong> beneath the <strong>Username</strong> and <strong>Password</strong> text fields.</p>
</li>
<li>
<p>Enter your current <strong>Username</strong> and <strong>Password</strong> in the text fields.</p>
</li>
<li>
<p>Input a new password in the <strong>New Password</strong> field.</p>
</li>
<li>
<p>Repeat your new password in the <strong>Verify Password</strong> field.</p>
</li>
<li>
<p>Click <strong>Login</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix">Appendix A: Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="appliance-console-cli">A.1. Appliance Console Command-Line Interface (CLI)</h3>
<div class="paragraph">
<p>Currently, the <code>appliance_console_cli</code> feature is a subset of the full functionality of the <code>appliance_console</code> itself, and covers functions most likely to be scripted using the command-line interface (CLI).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After starting the Red Hat CloudForms appliance, log in with a user name of <code>root</code> and the default password of <code>smartvm</code>. This displays the Bash prompt for the root user.</p>
</li>
<li>
<p>Enter the <code>appliance_console_cli</code> or <code>appliance_console_cli --help</code> command to see a list of options available with the command, or simply enter <code>appliance_console_cli --option &lt;argument&gt;</code> directly to use a specific option.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Database Configuration Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--region (-r)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">region number (create a new region in the database - requires database credentials passed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--internal (-i)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal database (create a database on the current appliance)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--dbdisk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database disk device path (for configuring an internal database)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--hostname (-h)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database hostname</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database port (defaults to <code>5432</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--username (-U)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database username (defaults to <code>root</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--password (-p)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--dbname (-d)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">database name (defaults to <code>vmdb_production</code>)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. v2_key Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--key (-k)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create a new v2_key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--fetch-key (-K)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch the v2_key from the given host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--force-key (-f)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create or fetch the key even if one exists</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sshlogin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh username for fetching the v2_key (defaults to <code>root</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sshpassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh password for fetching the v2_key</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. IPA Server Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--host (-H)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set the appliance hostname to the given name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipaserver (-e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server FQDN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipaprincipal (-n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server principal (default: <code>admin</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipapassword (-w)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ipadomain (-o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server domain (optional). Will be based on the appliance domain name if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--iparealm (-l)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPA server realm (optional). Will be based on the domain name of the ipaserver if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--uninstall-ipa (-u)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uninstall IPA client</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>In order to configure authentication through an IPA server, in addition to using <strong>Configure External Authentication (httpd)</strong> in the <code>appliance_console</code>, external authentication can be optionally configured via the <code>appliance_console_cli</code> (command-line interface).</p>
</li>
<li>
<p>Specifying <strong>--host</strong> will update the hostname of the appliance. If this step was already performed via the <code>appliance_console</code> and the necessary updates made to <code>/etc/hosts</code> if DNS is not properly configured, the <strong>--host</strong> option can be omitted.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Certificate Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--ca (-c)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CA name used for certmonger (default: <code>ipa</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--postgres-client-cert (-g)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for postgres client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--postgres-server-cert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for postgres server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--http-cert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install certs for http server (to create certs/httpd* values for a unique key)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--extauth-opts (-x)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">external authentication options</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The certificate options augment the functionality of the <code>certmonger</code> tool and enable creating a certificate signing request (CSR), and specifying <code>certmonger</code> the directories to store the keys.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Other Options</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--logdisk (-l)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">log disk path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--tmpdisk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">initialize the given device for temp storage (volume mounted at <code>/var/www/miq_tmp</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--verbose (-v)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">print more debugging info</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example Usage</div>
<div class="content">
<pre>$ ssh root@appliance.test.company.com</pre>
</div>
</div>
<div class="paragraph">
<p>To create a new database locally on the server using <code>/dev/sdb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --internal --dbdisk /dev/sdb --region 0 --password smartvm</pre>
</div>
</div>
<div class="paragraph">
<p>To copy the v2_key from a host <em>some.example.com</em> to local machine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --fetch-key some.example.com --sshlogin root --sshpassword smartvm</pre>
</div>
</div>
<div class="paragraph">
<p>You could combine the two to join a region where <em>db.example.com</em> is the appliance hosting the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --fetch-key db.example.com --sshlogin root --sshpassword smartvm --hostname db.example.com --password mydatabasepassword</pre>
</div>
</div>
<div class="paragraph">
<p>To configure external authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli --host appliance.test.company.com
                        --ipaserver ipaserver.test.company.com
                        --ipadomain test.company.com
                        --iparealm TEST.COMPANY.COM
                        --ipaprincipal admin
                        --ipapassword smartvm1</pre>
</div>
</div>
<div class="paragraph">
<p>To uninstall external authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># appliance_console_cli  --uninstall-ipa</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-08-08 14:27:17 EDT
</div>
</div>
</body>
</html>